# 1-1. 리액트는 프레임워크가 아닌 라이브러리

리액트는 인터렉션이 많은 웹앱을 개발하기 위해 주로 사용된다.

Angular(TypeScript)와 Vue는 프레임워크이며 React는 라이브러리이다.  
|Framework|Library|
|---|---|
|어떤한 앱을 만들기 위해 필요한 대부분의 것(라이브러리)을 가지고 있음|어떠한 특정 기능을 모듈화 해 놓은 것 (lean & focused)|

리액트는 전적으로 <b>`UI를 랜더링(화면을 구현)`</b> 하는데 관여한다.  
&rarr; 화면을 바꾸는 라우팅은 react-router-dom 모듈  
&rarr; 상태를 관리하기 위해서는 redux, mobx, recoil 모듈  
&rarr; 빌드를 위해서는 webpack, npm  
&rarr; 테스팅을 위해서는 Eslint, Mocha, Jest  
이런식으로 필요에 따라 모듈을 다운로드 받아 쓰기 때문에 자유도가 높다.

### 𖤐 JavaScript의 추가 기능 (React에 앞서... ES6+)

1. let & const (var를 대신하여)
2. Arrow function (단, this 사용 시 scope 주의)
3. import & export
4. Classes : constructor 축약
5. Spread operator(cf, Rest Operator `...`의 위치가 뒤쪽)
6. Destructing
7. Template literals (using backtic, `${변수}` 이런식으로 사용할 수 있음)  
   <br><br>

# 1-2. 리액트 컴포넌트

리액트는 여러 컴포넌트를 이용하여 웹 앱을 개발한다.

`컴포넌트`란, 리액트로 만들어진 앱을 이루는 최소한의 단위 이다.  
'Split big chunks if code into multiple smaller functions'

1. 재사용성(Reusability) : 같은 코드를 복붙하지 않기 위함이다.
2. 기능을 단위별로 분리 : 하닁 코드에 너무 많은 것을 털어 넣지 않기 위함이다.  
   &rarr; 여러 명이 각자 맡은 컴포넌트를 동시에 수정할 수 있다.

| Class components                                                      | Function components                         |
| --------------------------------------------------------------------- | ------------------------------------------- |
| class App extends Component{ render() { return <b>안녕하세요.</b>}; } | function App() { return <b>안녕하세요.</b>} |

&rarr; 원래 리액트로 개발할 때는 클래스 컴포넌트를 이용해서 많이 개발을 했지만, 리액트에서 리액트 Hooks라는 것을 발표한 이후부터는 함수형 컴포넌트를 이용해서 개발을 많이 한다(가독성과 관리 측면).

### 𖤐 React의 Component 구조

1. 리액트의 최상위 컴포넌트는 "App" 이다.
2. 컴포넌트 이름은 보통 PascalCase를 사용하기를 권장된다.(첫글자는 항상 대문자, 소문자로만 되어있는 html 태그와 구분하기 위해)
3. 컴포넌트는 App을 root로 하여 트리 구조로 구성할 수 있다.
4. 보통 하나의 컴포넌트 당 하나의 js(JSX) 파일로 매핑하여 만든다.  
   <br><br>

# 1-3. 브라우저가 그려지는 원리 및 가상돔

리엑트의 주요 특징 중 하나는 `가상돔`을 사용한다는 것이다.

### 웹 페이지 빌드 과정 (CRP, Critical Rendering Path)

가상돔을 왜 사용하는지 알기 위해서 브라우저가 랜더링 하는 과정을 알아보자.

브라우저가 서버에서 페이지에 대한 HTML 응답을 받고 화면에 표시하기까지의 일련의 과정이다.  
(웹 브라우저가 HTML 문서를 읽고, 스타일 입히고, 뷰포트에 표시)

HTML &rarr; DOM tree 생성 &rarr; Render tree 생성 &rarr; Layout(reflow) &rarr; Paint

1. `DOM tree 생성` : 랜더 엔진이 문서를 읽어들여서 그것들을 파싱하고, 어떤 내용을 페이지에 랜더링할지 결정한다.
2. `Render tree 생성` : 이 단계는 브라우저가 DOM과 CSSOM을 결합하는 곳이며, 이 프로세스는 화면에 보이는 모든 콘텐츠와 스타일 정보를 모두 포함하는 최종 랜더링 트리를 출력한다. 즉, <U>화면에 표시되는</U> 모든 노드의 콘텐츠 및 스타일 정보를 포함한다.
3. `Layout(reflow)` : 브라우저가 페이지에 표시되는 각 요소의 크기와 위치를 계산하는 단계이다.
4. `Paint` : 실제 화면에 그리는 단계이다.

<br>
𖤐 이때 문제점은, 어떤 인터렉션에 의해 DOM에 변화가 발생하면 그때마다 Render tree가 재생성된다.

즉 모든 요소들의 스타일을 다시 계산하고 Layout, Repaint 과정까지 다시 거치게 된다.

&rarr; 똑같은 과정을 중복으로 거치게 되니, 불필요하게 DOM을 조작하는 비용이 너무 크게 된다.

&rarr; <b> 𖤐 `가상돔(Virtual DOM)`</b>의 출현

- 가상돔이란, 실제 DOM을 메모리에 복사해둔 것이다. (특정 기술이라기 보다는 패턴)

- 데이터가 바뀌면 가상돔에 랜더링되고, 이전에 생긴 가상돔과 비교해서 바뀐 부분만 실제 돔에 적용을 시켜준다. 바뀐 부분을 찾는 과정을 `Diffing` 이라고 부르며, 바뀐 부분만 실제 돔에 적용시켜주는 것을 `재조정(reconciliation)` 이라고 부른다.

- 바뀐 부분을 한꺼번에 묶어서 한번의 실제 돔 수정으로 처리하므로 DOM을 조작하는 비용이 줄어든다.
  <br><br>

# 1-4. 리액트 설치를 위해 필요한 것들

### Node.js란 ?

크롬 v8 자바스크립트 엔진으로 빌드한 자바스크립트 런타임으로서, 웹 브라우저 환경이 아닌 곳에서도 자바스크립트를 사용하여 연산할 수 있다.

<b> React 설치 시 Node.js가 필요한 이유 </b>  
리액트 앱은 웹 브라우저에서 실행되는 코드이기 때문에 Node.js와 직접적인 연관은 없다.  
하지만프로젝트를 개발하는데 주요 도구들이 Node.js를 사용하기 때문에 필요하다.  
이때 사용하는 개발 도구는 바벨 / 모듈화된 코드를 한 파일로 합치고 코드를 수정할 때 마다 웹 브라우저를 reloading 하는 등 여러기능을 지닌 웹팩 등이 있다.

설치 : https://nodejs.org/ko/download (LTS)  
확인 : node -v
<br><br>

# 1-5. Create React App을 이용하여 리액트 설치하기

### (1) 리액트 앱 설치 방법

(요즈음에는) `npx create-react-app <폴더이름>` 이라는 명령어로 간단하게 설치할 수 있다.

<b> npx 란 ? </b>

npx는 노드 패키지 실행을 도와주는 도구이다.  
따라서 create-react-app 이란 npm 레지스트리(굉장히 많은 라이브러리들이 저장되어있음, 이것을 가져와 개발에 활용)에 있는 패키지를 <폴더>에서 실행하여 리액트를 설치해준다.

```cmd
> npx create-react-app <폴더이름>
> cd <폴더이름>
> npm start
```

### (2) 원래 리액트 앱 설치하는 방법

webpack 이나 Babel 같은 모듈을 설치하고 설정해야 리액트 앱을 시작할 수 있었다.

<b> Webpack 이란 ? </b>

웹팩은 오픈소스 자바스크립트 모듈 번들러로써, 여러개로 나누어져 있는 파일들을 하나의 자바스크립트 코드로 압축하고 최적화하는 라이브러리이다.

웹팩의 장점은 다음과 같다.

1. 여러 파일의 자바스크립트 코드를 압축하여 최적화할 수 있기 때문에 로딩에 대한 네트워크 비용을 줄일 수 있다.
2. 모듈 단위로 개발이 가능하여 가독성과 유지보수가 쉽다.

<b> Babel 이란 ? </b>

최신 자바스크립트 문법을 지원하지 않는 브라우저들을 위해 최신 자바스크립트 문법을 구형 브라우저에서도 실행시킬 수 있게 변환시켜주는 라이브러리이다.  
ex) arrow function
